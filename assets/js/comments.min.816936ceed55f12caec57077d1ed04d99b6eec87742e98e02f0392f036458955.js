document.addEventListener("click",function(g){const b=g.target,a=function(a){return document.getElementById(a)},f=function(a){return document.getElementsByClassName(a)[0]};if(b.matches("[data-toggle='reply-form']")){var e=a("cancel-button"),c=b.parentNode.parentNode,d=c.getAttribute("data-name");b.parentNode.appendChild(a("reply-form")),b.classList.toggle("d-none"),a("input-thread").value=c.getAttribute("data-thread"),a("input-parent").value=c.getAttribute("data-id"),a("input-parentName").value=d,a("reply-form-head").innerHTML="Ваш ответ "+d,e.classList.contains("d-none")&&e.classList.toggle("d-none")}b.matches("[data-toggle='reply-form-cancel']")&&(a("reply-form-head").innerHTML="Добавить комментарий",f("d-none").classList.toggle("d-none"),a("cancel-button").classList.toggle("d-none"),a("comment-thread").appendChild(a("reply-form")))},!1);const form=document.querySelector("#reply-form");form.addEventListener("submit",b=>{b.preventDefault();const a=document.getElementById("notice"),d=new FormData(form),c=new XMLHttpRequest;b.submitter.setAttribute("disabled","disabled"),form.classList.toggle("loading"),a.innerHTML="Комментарий отправляется",a.classList.add("sending"),c.addEventListener("load",c=>{form.classList.toggle("loading"),a.innerHTML="Комментарий отправлен успешно",a.classList.remove("sending"),a.classList.add("success"),b.submitter.removeAttribute("disabled"),form.reset()}),c.addEventListener("error",c=>{form.classList.toggle("loading"),a.innerHTML="Ошибка отправки комментария",a.classList.remove("sending"),a.classList.add("error"),b.submitter.removeAttribute("disabled")}),c.open("POST",form.action),c.send(d)})